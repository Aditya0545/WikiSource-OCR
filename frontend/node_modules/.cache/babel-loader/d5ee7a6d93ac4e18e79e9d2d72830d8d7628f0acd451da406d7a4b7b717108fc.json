{"ast":null,"code":"var _jsxFileName = \"/home/aditya/Mediawiki-Works/Tesseract-OCR-Wiki/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Box, Typography, Paper, CircularProgress, Alert, LinearProgress, Divider, FormControl, InputLabel, Select, MenuItem, TextField, Button } from '@mui/material';\nimport { useDropzone } from 'react-dropzone';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BATCH_SIZE = 5;\nfunction App() {\n  _s();\n  const [file, setFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState('');\n  const [error, setError] = useState('');\n  const [progress, setProgress] = useState(0);\n  const [totalPages, setTotalPages] = useState(0);\n  const [languages, setLanguages] = useState([]);\n  const [selectedLanguage, setSelectedLanguage] = useState('eng');\n  const [fileUrl, setFileUrl] = useState('');\n  const [batch, setBatch] = useState(1);\n  const [batchPages, setBatchPages] = useState({\n    start: 1,\n    end: 1\n  });\n  useEffect(() => {\n    // Fetch supported languages\n    axios.get('http://localhost:5000/api/languages').then(response => {\n      setLanguages(response.data);\n    }).catch(err => {\n      console.error('Error fetching languages:', err);\n    });\n  }, []);\n  const fetchBatch = async batchNum => {\n    setLoading(true);\n    setError('');\n    setResult('');\n    setProgress(0);\n    setBatch(batchNum);\n    const formData = new FormData();\n    if (file) formData.append('file', file);\n    if (fileUrl) formData.append('file_url', fileUrl);\n    formData.append('language', selectedLanguage);\n    formData.append('batch', batchNum);\n    formData.append('batch_size', BATCH_SIZE);\n    try {\n      const response = await axios.post('http://localhost:5000/api/ocr', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        onUploadProgress: progressEvent => {\n          const percentCompleted = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n          setProgress(percentCompleted);\n        }\n      });\n      setResult(response.data.text);\n      setTotalPages(response.data.total_pages || 0);\n      const start = (response.data.batch - 1) * response.data.batch_size + 1;\n      const end = start + response.data.pages - 1;\n      setBatchPages({\n        start,\n        end\n      });\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'An error occurred during OCR processing');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const onDrop = async acceptedFiles => {\n    if (fileUrl) return;\n    setFile(acceptedFiles[0]);\n    setBatch(1);\n    fetchBatch(1);\n  };\n  const handleUrlProcess = async () => {\n    if (!fileUrl) return;\n    setFile(null);\n    setBatch(1);\n    fetchBatch(1);\n  };\n  const handleDownload = () => {\n    const blob = new Blob([result], {\n      type: 'text/plain'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `ocr_result_${batchPages.start}-${batchPages.end}.txt`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n  const handleDownloadPDF = async () => {\n    const formData = new FormData();\n    if (file) formData.append('file', file);\n    if (fileUrl) formData.append('file_url', fileUrl);\n    formData.append('language', selectedLanguage);\n    formData.append('batch', batch);\n    formData.append('batch_size', BATCH_SIZE);\n    try {\n      const response = await axios.post('http://localhost:5000/api/ocr/pdf', formData, {\n        responseType: 'blob'\n      });\n      const url = window.URL.createObjectURL(new Blob([response.data], {\n        type: 'application/pdf'\n      }));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `ocr_result_${batchPages.start}-${batchPages.end}.pdf`);\n      document.body.appendChild(link);\n      link.click();\n      link.parentNode.removeChild(link);\n      window.URL.revokeObjectURL(url);\n    } catch (err) {\n      setError('Failed to generate PDF.');\n    }\n  };\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop,\n    accept: {\n      'image/*': ['.png', '.jpg', '.jpeg', '.tiff'],\n      'application/pdf': ['.pdf'],\n      'application/x-djvu': ['.djvu']\n    },\n    multiple: false,\n    disabled: !!fileUrl\n  });\n  const canGoPrev = batch > 1;\n  const canGoNext = totalPages > 0 && batchPages.end < totalPages;\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        my: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h3\",\n        component: \"h1\",\n        gutterBottom: true,\n        align: \"center\",\n        children: \"Wikisource OCR\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        fullWidth: true,\n        sx: {\n          mb: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          id: \"language-select-label\",\n          children: \"Language\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          labelId: \"language-select-label\",\n          value: selectedLanguage,\n          label: \"Language\",\n          onChange: e => setSelectedLanguage(e.target.value),\n          children: languages.map(lang => /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: lang.code,\n            children: [lang.name, \" (\", lang.script, \")\"]\n          }, lang.code, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mb: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          label: \"PDF/DjVu File URL (e.g. Wikimedia Commons)\",\n          variant: \"outlined\",\n          fullWidth: true,\n          value: fileUrl,\n          onChange: e => setFileUrl(e.target.value),\n          disabled: !!file,\n          sx: {\n            mb: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: handleUrlProcess,\n          disabled: !fileUrl || loading,\n          sx: {\n            mb: 2\n          },\n          children: \"Process from URL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        ...getRootProps(),\n        sx: {\n          p: 3,\n          textAlign: 'center',\n          cursor: fileUrl ? 'not-allowed' : 'pointer',\n          bgcolor: isDragActive ? 'action.hover' : 'background.paper',\n          border: '2px dashed',\n          borderColor: isDragActive ? 'primary.main' : 'grey.300',\n          mb: 3,\n          opacity: fileUrl ? 0.5 : 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          ...getInputProps(),\n          disabled: !!fileUrl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            width: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(LinearProgress, {\n            variant: \"determinate\",\n            value: progress\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            sx: {\n              mt: 1\n            },\n            children: [\"Processing batch: Pages \", batchPages.start, \"\\u2013\", batchPages.end, \" \", totalPages > 0 && `of ${totalPages}`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n          children: isDragActive ? \"Drop the file here\" : fileUrl ? \"File upload disabled when URL is provided\" : \"Drag and drop a file here, or click to select\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), file && /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        gutterBottom: true,\n        children: [\"Selected file: \", file.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }, this), fileUrl && /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        gutterBottom: true,\n        children: [\"URL: \", fileUrl]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mb: 2\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }, this), result && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          mb: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          onClick: () => fetchBatch(batch - 1),\n          disabled: !canGoPrev || loading,\n          sx: {\n            mr: 2\n          },\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          sx: {\n            mx: 2\n          },\n          children: [\"Pages \", batchPages.start, \"\\u2013\", batchPages.end, \" \", totalPages > 0 && `of ${totalPages}`]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          onClick: () => fetchBatch(batch + 1),\n          disabled: !canGoNext || loading,\n          sx: {\n            ml: 2\n          },\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          color: \"primary\",\n          onClick: handleDownload,\n          sx: {\n            ml: 4,\n            mr: 2\n          },\n          children: \"Download TXT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: handleDownloadPDF,\n          children: \"Download PDF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"BAvBxrbzKs3veqY7nmwIDOPQxi8=\", false, function () {\n  return [useDropzone];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Container","Box","Typography","Paper","CircularProgress","Alert","LinearProgress","Divider","FormControl","InputLabel","Select","MenuItem","TextField","Button","useDropzone","axios","jsxDEV","_jsxDEV","BATCH_SIZE","App","_s","file","setFile","loading","setLoading","result","setResult","error","setError","progress","setProgress","totalPages","setTotalPages","languages","setLanguages","selectedLanguage","setSelectedLanguage","fileUrl","setFileUrl","batch","setBatch","batchPages","setBatchPages","start","end","get","then","response","data","catch","err","console","fetchBatch","batchNum","formData","FormData","append","post","headers","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","text","total_pages","batch_size","pages","_err$response","_err$response$data","onDrop","acceptedFiles","handleUrlProcess","handleDownload","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","handleDownloadPDF","responseType","window","link","setAttribute","parentNode","getRootProps","getInputProps","isDragActive","accept","multiple","disabled","canGoPrev","canGoNext","maxWidth","children","sx","my","variant","component","gutterBottom","align","fileName","_jsxFileName","lineNumber","columnNumber","fullWidth","mb","id","labelId","value","label","onChange","e","target","map","lang","code","name","script","color","onClick","p","textAlign","cursor","bgcolor","border","borderColor","opacity","width","mt","severity","display","alignItems","mr","mx","ml","_c","$RefreshReg$"],"sources":["/home/aditya/Mediawiki-Works/Tesseract-OCR-Wiki/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Container, \n  Box, \n  Typography, \n  Paper, \n  CircularProgress,\n  Alert,\n  LinearProgress,\n  Divider,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  TextField,\n  Button\n} from '@mui/material';\nimport { useDropzone } from 'react-dropzone';\nimport axios from 'axios';\n\nconst BATCH_SIZE = 5;\n\nfunction App() {\n  const [file, setFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState('');\n  const [error, setError] = useState('');\n  const [progress, setProgress] = useState(0);\n  const [totalPages, setTotalPages] = useState(0);\n  const [languages, setLanguages] = useState([]);\n  const [selectedLanguage, setSelectedLanguage] = useState('eng');\n  const [fileUrl, setFileUrl] = useState('');\n  const [batch, setBatch] = useState(1);\n  const [batchPages, setBatchPages] = useState({start: 1, end: 1});\n\n  useEffect(() => {\n    // Fetch supported languages\n    axios.get('http://localhost:5000/api/languages')\n      .then(response => {\n        setLanguages(response.data);\n      })\n      .catch(err => {\n        console.error('Error fetching languages:', err);\n      });\n  }, []);\n\n  const fetchBatch = async (batchNum) => {\n    setLoading(true);\n    setError('');\n    setResult('');\n    setProgress(0);\n    setBatch(batchNum);\n\n    const formData = new FormData();\n    if (file) formData.append('file', file);\n    if (fileUrl) formData.append('file_url', fileUrl);\n    formData.append('language', selectedLanguage);\n    formData.append('batch', batchNum);\n    formData.append('batch_size', BATCH_SIZE);\n\n    try {\n      const response = await axios.post('http://localhost:5000/api/ocr', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n        onUploadProgress: (progressEvent) => {\n          const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n          setProgress(percentCompleted);\n        },\n      });\n      setResult(response.data.text);\n      setTotalPages(response.data.total_pages || 0);\n      const start = (response.data.batch - 1) * response.data.batch_size + 1;\n      const end = start + response.data.pages - 1;\n      setBatchPages({start, end});\n    } catch (err) {\n      setError(err.response?.data?.error || 'An error occurred during OCR processing');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const onDrop = async (acceptedFiles) => {\n    if (fileUrl) return;\n    setFile(acceptedFiles[0]);\n    setBatch(1);\n    fetchBatch(1);\n  };\n\n  const handleUrlProcess = async () => {\n    if (!fileUrl) return;\n    setFile(null);\n    setBatch(1);\n    fetchBatch(1);\n  };\n\n  const handleDownload = () => {\n    const blob = new Blob([result], { type: 'text/plain' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `ocr_result_${batchPages.start}-${batchPages.end}.txt`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  const handleDownloadPDF = async () => {\n    const formData = new FormData();\n    if (file) formData.append('file', file);\n    if (fileUrl) formData.append('file_url', fileUrl);\n    formData.append('language', selectedLanguage);\n    formData.append('batch', batch);\n    formData.append('batch_size', BATCH_SIZE);\n\n    try {\n      const response = await axios.post('http://localhost:5000/api/ocr/pdf', formData, {\n        responseType: 'blob',\n      });\n      const url = window.URL.createObjectURL(new Blob([response.data], { type: 'application/pdf' }));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `ocr_result_${batchPages.start}-${batchPages.end}.pdf`);\n      document.body.appendChild(link);\n      link.click();\n      link.parentNode.removeChild(link);\n      window.URL.revokeObjectURL(url);\n    } catch (err) {\n      setError('Failed to generate PDF.');\n    }\n  };\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop,\n    accept: {\n      'image/*': ['.png', '.jpg', '.jpeg', '.tiff'],\n      'application/pdf': ['.pdf'],\n      'application/x-djvu': ['.djvu']\n    },\n    multiple: false,\n    disabled: !!fileUrl\n  });\n\n  const canGoPrev = batch > 1;\n  const canGoNext = totalPages > 0 && batchPages.end < totalPages;\n\n  return (\n    <Container maxWidth=\"md\">\n      <Box sx={{ my: 4 }}>\n        <Typography variant=\"h3\" component=\"h1\" gutterBottom align=\"center\">\n          Wikisource OCR\n        </Typography>\n\n        <FormControl fullWidth sx={{ mb: 3 }}>\n          <InputLabel id=\"language-select-label\">Language</InputLabel>\n          <Select\n            labelId=\"language-select-label\"\n            value={selectedLanguage}\n            label=\"Language\"\n            onChange={(e) => setSelectedLanguage(e.target.value)}\n          >\n            {languages.map((lang) => (\n              <MenuItem key={lang.code} value={lang.code}>\n                {lang.name} ({lang.script})\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n\n        <Box sx={{ mb: 2 }}>\n          <TextField\n            label=\"PDF/DjVu File URL (e.g. Wikimedia Commons)\"\n            variant=\"outlined\"\n            fullWidth\n            value={fileUrl}\n            onChange={e => setFileUrl(e.target.value)}\n            disabled={!!file}\n            sx={{ mb: 1 }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleUrlProcess}\n            disabled={!fileUrl || loading}\n            sx={{ mb: 2 }}\n          >\n            Process from URL\n          </Button>\n        </Box>\n\n        <Paper\n          {...getRootProps()}\n          sx={{\n            p: 3,\n            textAlign: 'center',\n            cursor: fileUrl ? 'not-allowed' : 'pointer',\n            bgcolor: isDragActive ? 'action.hover' : 'background.paper',\n            border: '2px dashed',\n            borderColor: isDragActive ? 'primary.main' : 'grey.300',\n            mb: 3,\n            opacity: fileUrl ? 0.5 : 1\n          }}\n        >\n          <input {...getInputProps()} disabled={!!fileUrl} />\n          {loading ? (\n            <Box sx={{ width: '100%' }}>\n              <LinearProgress variant=\"determinate\" value={progress} />\n              <Typography variant=\"body2\" sx={{ mt: 1 }}>\n                Processing batch: Pages {batchPages.start}–{batchPages.end} {totalPages > 0 && `of ${totalPages}`}\n              </Typography>\n            </Box>\n          ) : (\n            <Typography>\n              {isDragActive\n                ? \"Drop the file here\"\n                : fileUrl\n                  ? \"File upload disabled when URL is provided\"\n                  : \"Drag and drop a file here, or click to select\"}\n            </Typography>\n          )}\n        </Paper>\n\n        {file && (\n          <Typography variant=\"body1\" gutterBottom>\n            Selected file: {file.name}\n          </Typography>\n        )}\n        {fileUrl && (\n          <Typography variant=\"body1\" gutterBottom>\n            URL: {fileUrl}\n          </Typography>\n        )}\n\n        {error && (\n          <Alert severity=\"error\" sx={{ mb: 2 }}>\n            {error}\n          </Alert>\n        )}\n\n        {/* Batch navigation and download buttons */}\n        {result && (\n          <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n            <Button\n              variant=\"outlined\"\n              onClick={() => fetchBatch(batch - 1)}\n              disabled={!canGoPrev || loading}\n              sx={{ mr: 2 }}\n            >\n              Previous\n            </Button>\n            <Typography sx={{ mx: 2 }}>\n              Pages {batchPages.start}–{batchPages.end} {totalPages > 0 && `of ${totalPages}`}\n            </Typography>\n            <Button\n              variant=\"outlined\"\n              onClick={() => fetchBatch(batch + 1)}\n              disabled={!canGoNext || loading}\n              sx={{ ml: 2 }}\n            >\n              Next\n            </Button>\n            <Button variant=\"outlined\" color=\"primary\" onClick={handleDownload} sx={{ ml: 4, mr: 2 }}>\n              Download TXT\n            </Button>\n            <Button variant=\"contained\" color=\"primary\" onClick={handleDownloadPDF}>\n              Download PDF\n            </Button>\n          </Box>\n        )}\n      </Box>\n    </Container>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}