{"ast":null,"code":"var _jsxFileName = \"/home/aditya/Mediawiki-Works/Tesseract-OCR-Wiki/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Box, Typography, Card, CardContent, CardHeader, Paper, CircularProgress, Alert, Divider, FormControl, InputLabel, Select, MenuItem, TextField, Button, LinearProgress, Chip, Stack, Tooltip } from '@mui/material';\nimport { useDropzone } from 'react-dropzone';\nimport axios from 'axios';\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\nimport ArrowBackIosNewIcon from '@mui/icons-material/ArrowBackIosNew';\nimport ArrowForwardIosIcon from '@mui/icons-material/ArrowForwardIos';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BATCH_SIZE = 5;\nfunction App() {\n  _s();\n  const [file, setFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState('');\n  const [error, setError] = useState('');\n  const [progress, setProgress] = useState(0);\n  const [totalPages, setTotalPages] = useState(0);\n  const [languages, setLanguages] = useState([]);\n  const [selectedLanguage, setSelectedLanguage] = useState('');\n  const [fileUrl, setFileUrl] = useState('');\n  const [batch, setBatch] = useState(1);\n  const [batchPages, setBatchPages] = useState({\n    start: 1,\n    end: 1\n  });\n  useEffect(() => {\n    axios.get('http://localhost:5000/api/languages').then(response => {\n      setLanguages(response.data);\n    }).catch(err => {\n      console.error('Error fetching languages:', err);\n    });\n  }, []);\n  const fetchBatch = async batchNum => {\n    if (!selectedLanguage) {\n      setError('Please select a language first');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    setResult('');\n    setProgress(0);\n    const formData = new FormData();\n    if (file) formData.append('file', file);\n    if (fileUrl) formData.append('file_url', fileUrl);\n    formData.append('language', selectedLanguage);\n    formData.append('batch', batchNum);\n    formData.append('batch_size', BATCH_SIZE);\n    try {\n      const response = await axios.post('http://localhost:5000/api/ocr', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        onUploadProgress: progressEvent => {\n          const percentCompleted = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n          setProgress(percentCompleted);\n        }\n      });\n      setResult(response.data.text);\n      setTotalPages(response.data.total_pages || 0);\n      setBatch(response.data.batch);\n      const start = (response.data.batch - 1) * response.data.batch_size + 1;\n      const end = start + response.data.pages - 1;\n      setBatchPages({\n        start,\n        end\n      });\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'An error occurred during OCR processing');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const onDrop = acceptedFiles => {\n    setFile(acceptedFiles[0]);\n    setBatch(1);\n  };\n  const handleUrlProcess = async () => {\n    if (!fileUrl) return;\n    setFile(null);\n    setBatch(1);\n    fetchBatch(1);\n  };\n  const handleFileProcess = async () => {\n    if (!file) return;\n    setBatch(1);\n    fetchBatch(1);\n  };\n  const handleDownload = () => {\n    const blob = new Blob([result], {\n      type: 'text/plain'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `ocr_result_${batchPages.start}-${batchPages.end}.txt`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n  const handleDownloadPDF = async () => {\n    const formData = new FormData();\n    if (file) formData.append('file', file);\n    if (fileUrl) formData.append('file_url', fileUrl);\n    formData.append('language', selectedLanguage);\n    formData.append('batch', batch);\n    formData.append('batch_size', BATCH_SIZE);\n    try {\n      const response = await axios.post('http://localhost:5000/api/ocr/pdf', formData, {\n        responseType: 'blob'\n      });\n      const url = window.URL.createObjectURL(new Blob([response.data], {\n        type: 'application/pdf'\n      }));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `ocr_result_${batchPages.start}-${batchPages.end}.pdf`);\n      document.body.appendChild(link);\n      link.click();\n      link.parentNode.removeChild(link);\n      window.URL.revokeObjectURL(url);\n    } catch (err) {\n      setError('Failed to generate PDF.');\n    }\n  };\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop,\n    accept: {\n      'image/*': ['.png', '.jpg', '.jpeg', '.tiff'],\n      'application/pdf': ['.pdf'],\n      'application/x-djvu': ['.djvu']\n    },\n    multiple: false,\n    disabled: !!fileUrl\n  });\n  const canGoPrev = batch > 1;\n  const canGoNext = totalPages > 0 && batchPages.end < totalPages;\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      minHeight: '100vh',\n      bgcolor: 'linear-gradient(135deg, #e3f2fd 0%, #ffffff 100%)',\n      py: 6\n    },\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"sm\",\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        elevation: 6,\n        sx: {\n          borderRadius: 4,\n          mt: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          avatar: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Wikisource-logo.svg/410px-Wikisource-logo.svg.png\",\n            alt: \"Wikisource logo\",\n            style: {\n              width: 48,\n              height: 48,\n              borderRadius: 8,\n              background: '#fff'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this),\n          title: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h4\",\n            fontWeight: 700,\n            children: \"Wikisource OCR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 20\n          }, this),\n          subheader: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            color: \"text.secondary\",\n            children: \"Convert PDF/DjVu to text using Tesseract OCR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 24\n          }, this),\n          sx: {\n            textAlign: 'center',\n            pb: 0\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            sx: {\n              mb: 3\n            },\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"language-select-label\",\n              children: \"Language\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"language-select-label\",\n              value: selectedLanguage,\n              label: \"Language\",\n              onChange: e => setSelectedLanguage(e.target.value),\n              disabled: languages.length === 0,\n              children: languages.map(lang => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: lang.code,\n                children: [lang.name, \" (\", lang.script, \")\"]\n              }, lang.code, true, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"PDF/DjVu File URL (e.g. Wikimedia Commons)\",\n            variant: \"outlined\",\n            fullWidth: true,\n            value: fileUrl,\n            onChange: e => setFileUrl(e.target.value),\n            disabled: !!file,\n            sx: {\n              mb: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: handleUrlProcess,\n            disabled: !fileUrl || loading,\n            startIcon: /*#__PURE__*/_jsxDEV(CloudUploadIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 26\n            }, this),\n            fullWidth: true,\n            sx: {\n              mb: 2,\n              fontWeight: 600,\n              letterSpacing: 1\n            },\n            children: \"Process from URL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: handleFileProcess,\n            disabled: !file || !!fileUrl || loading,\n            startIcon: /*#__PURE__*/_jsxDEV(CloudUploadIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 26\n            }, this),\n            fullWidth: true,\n            sx: {\n              mb: 3,\n              fontWeight: 600,\n              letterSpacing: 1\n            },\n            children: \"Process File\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Paper, {\n            ...getRootProps(),\n            sx: {\n              p: 3,\n              textAlign: 'center',\n              cursor: fileUrl ? 'not-allowed' : 'pointer',\n              bgcolor: isDragActive ? 'action.hover' : 'background.paper',\n              border: '2px dashed',\n              borderColor: isDragActive ? 'primary.main' : 'grey.300',\n              mb: 3,\n              opacity: fileUrl ? 0.5 : 1,\n              transition: 'box-shadow 0.2s',\n              boxShadow: isDragActive ? 4 : 0\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              ...getInputProps(),\n              disabled: !!fileUrl\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this), loading ? /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                width: '100%'\n              },\n              children: [/*#__PURE__*/_jsxDEV(LinearProgress, {\n                variant: progress > 0 && progress < 100 ? 'determinate' : 'indeterminate',\n                value: progress,\n                sx: {\n                  height: 8,\n                  borderRadius: 4\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 19\n              }, this), totalPages === 0 ? /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                sx: {\n                  mt: 1\n                },\n                children: \"Detecting pages or downloading/converting file...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                sx: {\n                  mt: 1\n                },\n                children: [\"Processing batch: Pages \", batchPages.start, \"\\u2013\", batchPages.end, \" of \", totalPages]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Stack, {\n              alignItems: \"center\",\n              spacing: 1,\n              children: [/*#__PURE__*/_jsxDEV(CloudUploadIcon, {\n                color: \"primary\",\n                sx: {\n                  fontSize: 40,\n                  mb: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: isDragActive ? \"Drop the file here\" : fileUrl ? \"File upload disabled when URL is provided\" : \"Drag and drop a file here, or click to select\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), file && /*#__PURE__*/_jsxDEV(Chip, {\n            label: `Selected file: ${file.name}`,\n            color: \"info\",\n            variant: \"outlined\",\n            sx: {\n              mb: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this), fileUrl && /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            sx: {\n              mb: 2\n            },\n            children: [\"URL: \", fileUrl]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n            severity: \"error\",\n            sx: {\n              mb: 2\n            },\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 15\n          }, this), result && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              mb: 2,\n              flexWrap: 'wrap',\n              gap: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Previous Batch\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outlined\",\n                  onClick: () => fetchBatch(batch - 1),\n                  disabled: !canGoPrev || loading,\n                  startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIosNewIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 299,\n                    columnNumber: 34\n                  }, this),\n                  sx: {\n                    minWidth: 120\n                  },\n                  children: \"Previous\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Chip, {\n              label: `Pages ${batchPages.start}–${batchPages.end} of ${totalPages}`,\n              color: \"primary\",\n              sx: {\n                mx: 2,\n                fontWeight: 600,\n                fontSize: 16\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Next Batch\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outlined\",\n                  onClick: () => fetchBatch(batch + 1),\n                  disabled: !canGoNext || loading,\n                  endIcon: /*#__PURE__*/_jsxDEV(ArrowForwardIosIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 32\n                  }, this),\n                  sx: {\n                    minWidth: 120\n                  },\n                  children: \"Next\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Download TXT\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outlined\",\n                  color: \"primary\",\n                  onClick: handleDownload,\n                  startIcon: /*#__PURE__*/_jsxDEV(DownloadIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 100\n                  }, this),\n                  sx: {\n                    ml: 2,\n                    minWidth: 160\n                  },\n                  disabled: loading,\n                  children: \"Download TXT\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Download PDF\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  color: \"primary\",\n                  onClick: handleDownloadPDF,\n                  startIcon: /*#__PURE__*/_jsxDEV(DownloadIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 104\n                  }, this),\n                  sx: {\n                    minWidth: 160\n                  },\n                  disabled: loading,\n                  children: \"Download PDF\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          textAlign: 'center',\n          mt: 4,\n          color: 'text.secondary'\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          children: [\"Powered by \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Tesseract OCR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 24\n          }, this), \" \\xA0|\\xA0 \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"https://en.wikisource.org/\",\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            style: {\n              color: '#1976d2',\n              textDecoration: 'none'\n            },\n            children: \"Wikisource\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 59\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"D3nK+nGOJ4V8UoPqLRgwS9ey+Bo=\", false, function () {\n  return [useDropzone];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Container","Box","Typography","Card","CardContent","CardHeader","Paper","CircularProgress","Alert","Divider","FormControl","InputLabel","Select","MenuItem","TextField","Button","LinearProgress","Chip","Stack","Tooltip","useDropzone","axios","CloudUploadIcon","ArrowBackIosNewIcon","ArrowForwardIosIcon","DownloadIcon","jsxDEV","_jsxDEV","BATCH_SIZE","App","_s","file","setFile","loading","setLoading","result","setResult","error","setError","progress","setProgress","totalPages","setTotalPages","languages","setLanguages","selectedLanguage","setSelectedLanguage","fileUrl","setFileUrl","batch","setBatch","batchPages","setBatchPages","start","end","get","then","response","data","catch","err","console","fetchBatch","batchNum","formData","FormData","append","post","headers","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","text","total_pages","batch_size","pages","_err$response","_err$response$data","onDrop","acceptedFiles","handleUrlProcess","handleFileProcess","handleDownload","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","handleDownloadPDF","responseType","window","link","setAttribute","parentNode","getRootProps","getInputProps","isDragActive","accept","multiple","disabled","canGoPrev","canGoNext","sx","minHeight","bgcolor","py","children","maxWidth","elevation","borderRadius","mt","avatar","src","alt","style","width","height","background","fileName","_jsxFileName","lineNumber","columnNumber","title","variant","fontWeight","subheader","color","textAlign","pb","fullWidth","mb","id","labelId","value","label","onChange","e","target","length","map","lang","code","name","script","onClick","startIcon","letterSpacing","p","cursor","border","borderColor","opacity","transition","boxShadow","alignItems","spacing","fontSize","severity","display","flexWrap","gap","minWidth","mx","endIcon","ml","rel","textDecoration","_c","$RefreshReg$"],"sources":["/home/aditya/Mediawiki-Works/Tesseract-OCR-Wiki/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Container,\n  Box,\n  Typography,\n  Card,\n  CardContent,\n  CardHeader,\n  Paper,\n  CircularProgress,\n  Alert,\n  Divider,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  TextField,\n  Button,\n  LinearProgress,\n  Chip,\n  Stack,\n  Tooltip\n} from '@mui/material';\nimport { useDropzone } from 'react-dropzone';\nimport axios from 'axios';\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\nimport ArrowBackIosNewIcon from '@mui/icons-material/ArrowBackIosNew';\nimport ArrowForwardIosIcon from '@mui/icons-material/ArrowForwardIos';\nimport DownloadIcon from '@mui/icons-material/Download';\n\nconst BATCH_SIZE = 5;\n\nfunction App() {\n  const [file, setFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState('');\n  const [error, setError] = useState('');\n  const [progress, setProgress] = useState(0);\n  const [totalPages, setTotalPages] = useState(0);\n  const [languages, setLanguages] = useState([]);\n  const [selectedLanguage, setSelectedLanguage] = useState('');\n  const [fileUrl, setFileUrl] = useState('');\n  const [batch, setBatch] = useState(1);\n  const [batchPages, setBatchPages] = useState({ start: 1, end: 1 });\n\n  useEffect(() => {\n    axios.get('http://localhost:5000/api/languages')\n      .then(response => {\n        setLanguages(response.data);\n      })\n      .catch(err => {\n        console.error('Error fetching languages:', err);\n      });\n  }, []);\n\n  const fetchBatch = async (batchNum) => {\n    if (!selectedLanguage) {\n      setError('Please select a language first');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n    setResult('');\n    setProgress(0);\n\n    const formData = new FormData();\n    if (file) formData.append('file', file);\n    if (fileUrl) formData.append('file_url', fileUrl);\n    formData.append('language', selectedLanguage);\n    formData.append('batch', batchNum);\n    formData.append('batch_size', BATCH_SIZE);\n\n    try {\n      const response = await axios.post('http://localhost:5000/api/ocr', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n        onUploadProgress: (progressEvent) => {\n          const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n          setProgress(percentCompleted);\n        },\n      });\n      setResult(response.data.text);\n      setTotalPages(response.data.total_pages || 0);\n      setBatch(response.data.batch);\n      const start = (response.data.batch - 1) * response.data.batch_size + 1;\n      const end = start + response.data.pages - 1;\n      setBatchPages({ start, end });\n    } catch (err) {\n      setError(err.response?.data?.error || 'An error occurred during OCR processing');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const onDrop = (acceptedFiles) => {\n    setFile(acceptedFiles[0]);\n    setBatch(1);\n  };\n\n  const handleUrlProcess = async () => {\n    if (!fileUrl) return;\n    setFile(null);\n    setBatch(1);\n    fetchBatch(1);\n  };\n\n  const handleFileProcess = async () => {\n    if (!file) return;\n    setBatch(1);\n    fetchBatch(1);\n  };\n\n  const handleDownload = () => {\n    const blob = new Blob([result], { type: 'text/plain' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `ocr_result_${batchPages.start}-${batchPages.end}.txt`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  const handleDownloadPDF = async () => {\n    const formData = new FormData();\n    if (file) formData.append('file', file);\n    if (fileUrl) formData.append('file_url', fileUrl);\n    formData.append('language', selectedLanguage);\n    formData.append('batch', batch);\n    formData.append('batch_size', BATCH_SIZE);\n\n    try {\n      const response = await axios.post('http://localhost:5000/api/ocr/pdf', formData, {\n        responseType: 'blob',\n      });\n      const url = window.URL.createObjectURL(new Blob([response.data], { type: 'application/pdf' }));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `ocr_result_${batchPages.start}-${batchPages.end}.pdf`);\n      document.body.appendChild(link);\n      link.click();\n      link.parentNode.removeChild(link);\n      window.URL.revokeObjectURL(url);\n    } catch (err) {\n      setError('Failed to generate PDF.');\n    }\n  };\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop,\n    accept: {\n      'image/*': ['.png', '.jpg', '.jpeg', '.tiff'],\n      'application/pdf': ['.pdf'],\n      'application/x-djvu': ['.djvu']\n    },\n    multiple: false,\n    disabled: !!fileUrl\n  });\n\n  const canGoPrev = batch > 1;\n  const canGoNext = totalPages > 0 && batchPages.end < totalPages;\n\n  return (\n    <Box sx={{ minHeight: '100vh', bgcolor: 'linear-gradient(135deg, #e3f2fd 0%, #ffffff 100%)', py: 6 }}>\n      <Container maxWidth=\"sm\">\n        <Card elevation={6} sx={{ borderRadius: 4, mt: 4 }}>\n          <CardHeader\n            avatar={\n              <img\n                src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Wikisource-logo.svg/410px-Wikisource-logo.svg.png\"\n                alt=\"Wikisource logo\"\n                style={{ width: 48, height: 48, borderRadius: 8, background: '#fff' }}\n              />\n            }\n            title={<Typography variant=\"h4\" fontWeight={700}>Wikisource OCR</Typography>}\n            subheader={<Typography variant=\"subtitle1\" color=\"text.secondary\">Convert PDF/DjVu to text using Tesseract OCR</Typography>}\n            sx={{ textAlign: 'center', pb: 0 }}\n          />\n          <CardContent>\n            <FormControl fullWidth sx={{ mb: 3 }}>\n              <InputLabel id=\"language-select-label\">Language</InputLabel>\n              <Select\n                labelId=\"language-select-label\"\n                value={selectedLanguage}\n                label=\"Language\"\n                onChange={(e) => setSelectedLanguage(e.target.value)}\n                disabled={languages.length === 0}\n              >\n                {languages.map((lang) => (\n                  <MenuItem key={lang.code} value={lang.code}>\n                    {lang.name} ({lang.script})\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n\n            <TextField\n              label=\"PDF/DjVu File URL (e.g. Wikimedia Commons)\"\n              variant=\"outlined\"\n              fullWidth\n              value={fileUrl}\n              onChange={e => setFileUrl(e.target.value)}\n              disabled={!!file}\n              sx={{ mb: 2 }}\n            />\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleUrlProcess}\n              disabled={!fileUrl || loading}\n              startIcon={<CloudUploadIcon />}\n              fullWidth\n              sx={{ mb: 2, fontWeight: 600, letterSpacing: 1 }}\n            >\n              Process from URL\n            </Button>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleFileProcess}\n              disabled={!file || !!fileUrl || loading}\n              startIcon={<CloudUploadIcon />}\n              fullWidth\n              sx={{ mb: 3, fontWeight: 600, letterSpacing: 1 }}\n            >\n              Process File\n            </Button>\n\n            <Paper\n              {...getRootProps()}\n              sx={{\n                p: 3,\n                textAlign: 'center',\n                cursor: fileUrl ? 'not-allowed' : 'pointer',\n                bgcolor: isDragActive ? 'action.hover' : 'background.paper',\n                border: '2px dashed',\n                borderColor: isDragActive ? 'primary.main' : 'grey.300',\n                mb: 3,\n                opacity: fileUrl ? 0.5 : 1,\n                transition: 'box-shadow 0.2s',\n                boxShadow: isDragActive ? 4 : 0\n              }}\n            >\n              <input {...getInputProps()} disabled={!!fileUrl} />\n              {loading ? (\n                <Box sx={{ width: '100%' }}>\n                  <LinearProgress variant={progress > 0 && progress < 100 ? 'determinate' : 'indeterminate'} value={progress} sx={{ height: 8, borderRadius: 4 }} />\n                  {totalPages === 0 ? (\n                    <Typography variant=\"body2\" sx={{ mt: 1 }}>\n                      Detecting pages or downloading/converting file...\n                    </Typography>\n                  ) : (\n                    <Typography variant=\"body2\" sx={{ mt: 1 }}>\n                      Processing batch: Pages {batchPages.start}–{batchPages.end} of {totalPages}\n                    </Typography>\n                  )}\n                </Box>\n              ) : (\n                <Stack alignItems=\"center\" spacing={1}>\n                  <CloudUploadIcon color=\"primary\" sx={{ fontSize: 40, mb: 1 }} />\n                  <Typography>\n                    {isDragActive\n                      ? \"Drop the file here\"\n                      : fileUrl\n                        ? \"File upload disabled when URL is provided\"\n                        : \"Drag and drop a file here, or click to select\"}\n                  </Typography>\n                </Stack>\n              )}\n            </Paper>\n\n            {file && (\n              <Chip label={`Selected file: ${file.name}`} color=\"info\" variant=\"outlined\" sx={{ mb: 2 }} />\n            )}\n            {fileUrl && (\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\n                URL: {fileUrl}\n              </Typography>\n            )}\n\n            {error && (\n              <Alert severity=\"error\" sx={{ mb: 2 }}>\n                {error}\n              </Alert>\n            )}\n\n            {/* Batch navigation and download buttons */}\n            {result && (\n              <Box sx={{ display: 'flex', alignItems: 'center', mb: 2, flexWrap: 'wrap', gap: 1 }}>\n                <Tooltip title=\"Previous Batch\">\n                  <span>\n                    <Button\n                      variant=\"outlined\"\n                      onClick={() => fetchBatch(batch - 1)}\n                      disabled={!canGoPrev || loading}\n                      startIcon={<ArrowBackIosNewIcon />}\n                      sx={{ minWidth: 120 }}\n                    >\n                      Previous\n                    </Button>\n                  </span>\n                </Tooltip>\n                <Chip\n                  label={`Pages ${batchPages.start}–${batchPages.end} of ${totalPages}`}\n                  color=\"primary\"\n                  sx={{ mx: 2, fontWeight: 600, fontSize: 16 }}\n                />\n                <Tooltip title=\"Next Batch\">\n                  <span>\n                    <Button\n                      variant=\"outlined\"\n                      onClick={() => fetchBatch(batch + 1)}\n                      disabled={!canGoNext || loading}\n                      endIcon={<ArrowForwardIosIcon />}\n                      sx={{ minWidth: 120 }}\n                    >\n                      Next\n                    </Button>\n                  </span>\n                </Tooltip>\n                <Tooltip title=\"Download TXT\">\n                  <span>\n                    <Button variant=\"outlined\" color=\"primary\" onClick={handleDownload} startIcon={<DownloadIcon />} sx={{ ml: 2, minWidth: 160 }} disabled={loading}>\n                      Download TXT\n                    </Button>\n                  </span>\n                </Tooltip>\n                <Tooltip title=\"Download PDF\">\n                  <span>\n                    <Button variant=\"contained\" color=\"primary\" onClick={handleDownloadPDF} startIcon={<DownloadIcon />} sx={{ minWidth: 160 }} disabled={loading}>\n                      Download PDF\n                    </Button>\n                  </span>\n                </Tooltip>\n              </Box>\n            )}\n          </CardContent>\n        </Card>\n        <Box sx={{ textAlign: 'center', mt: 4, color: 'text.secondary' }}>\n          <Typography variant=\"body2\">\n            Powered by <b>Tesseract OCR</b> &nbsp;|&nbsp; <a href=\"https://en.wikisource.org/\" target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: '#1976d2', textDecoration: 'none' }}>Wikisource</a>\n          </Typography>\n        </Box>\n      </Container>\n    </Box>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}